{"version":3,"file":"hx-sdk-zfb.js","sources":["../src/platform/zfb/setTitle.ts","../src/platform/zfb/request.ts","../src/tool/polyfill.ts","../src/platform/zfb/getConfigById.ts","../src/core/constants.ts","../src/zfb.ts","../src/core/hx.ts","../src/core/hello-tip.ts","../src/platform/zfb/init.ts","../src/platform/zfb/jump.ts","../src/platform/zfb/getParams.ts"],"sourcesContent":["export default function (title: string): void {\n  my.setNavigationBar({\n    title: title\n  })\n}\n","export default function (url: string): Promise<any> {\n  return new Promise((resolve, reject) => {\n    my.request({\n      url,\n      success: resolve,\n      fail: reject\n    })\n  })\n}\n","if (!console.warn) {\n  console.warn = console.log\n}\nif (!console.error) {\n  console.error = console.log\n}\n","import request from './request'\nimport { ossHost } from '../../core/constants'\n\nexport default function (id: string | number, env = 'prod'): Promise<any>{\n  const url = `${ossHost}/${env}/configs/${id}/config.json`\n  return request(url)\n}\n","\n/** oss存放海星文件路径，后面可以拼接env */\nexport const ossHost = 'https://xiaojinhe-cdn.iyoudui.cn/haixing'\n\nexport const dvMdHost = {\n  'dev': 'https://log-d2v-web-test.19ego.cn',\n  'test': 'https://log-d2v-web-test.19ego.cn',\n  'prod': 'https://log-d2v-web.19ego.cn',\n}\n\nexport const mdHost = {\n  'dev': 'https://spm-sit.gyjxwh.com',\n  'test': 'https://spm-sit.gyjxwh.com',\n  'prod': 'https://spm.iyoudui.com',\n}\n","import './tool/polyfill'\nimport HX from './core/hx'\n\nimport IHx from './core/hx'\n\nimport * as zfb from './platform/zfb'\n\nconst hx: IHx = new HX(zfb)\n\nexport default hx\n","import helloTip from './hello-tip'\nimport {TEngine} from '../../types/engine'\n\n/** 海星工具类 */\nclass HX {\n  /** 平台对象 */\n  private _engine: TEngine\n  /** 初始化方法 */\n  public init: Function\n  /** 设置页面标题 */\n  public setTitle: Function\n  /** 获取页面参数 */\n  public getParams: Function\n  /** 跳转页面 */\n  public jump: Function\n  /** 获取应用和页面配置 */\n  public getConfig: Function\n  /** 根据id获取指定配置 */\n  public getConfigById: Function\n    /** 获取uid */\n    public getUid: Function\n\n  constructor (engine: TEngine) {\n    /* 构建时打印提示信息 */\n    helloTip()\n\n    this._engine = engine\n\n    this.init = this._engine.init\n    this.setTitle = this._engine.setTitle\n    this.getParams = this._engine.getParams\n    this.jump = this._engine.jump\n    this.getConfig = this._engine.getConfig\n    this.getConfigById = this._engine.getConfigById\n    this.getUid = this._engine.getUid\n  }\n}\n\nexport type IHx = HX\n\nexport default HX\n\n","/**\n * 打印海星使用提示信息\n */\nexport default function (): void {\n  console.warn('欢迎使用高阳-海星-sdk，请使用HX.init初始化项目')\n  if (!((window as any).ant)) {\n    console.warn('ios设置标题有问题，需在html手动引入脚本<script src=\"https://a.alipayobjects.com/g/component/antbridge/1.1.4/antbridge.min.js\"></script>')\n    console.log('如果前端路由跳转时标题不同，请使用HX.setTitle重新设置标题')\n  }\n}\n","import setTitle from './setTitle'\nimport getConfigById from './getConfigById'\n\nimport {TZfbInitOption} from '../../../types/initOption'\n\n\nexport default function (option: TZfbInitOption): void {\n  option = Object.assign({\n    onConfig: function (config: any) {\n      setTitle(config && config.title)\n    },\n  }, option)\n\n  getConfigById(option.configId, option.env)\n    .then((config: any) => {\n      console.log('get config', config)\n      setTitle(config && config.pageConfig && config.pageConfig.title)\n      option.onConfig(config)\n    })\n}\n","export default function (url: string): void {\n  my.navigateTo({ url: url })\n}\n","export default function () {\n  throw new Error('请在Page.onLoad中获取参数并保存')\n}\n"],"names":["setTitle","title","my","setNavigationBar","request","url","Promise","resolve","reject","success","fail","console","warn","log","error","getConfigById","id","env","concat","engine","window","this","_engine","init","getParams","jump","getConfig","getUid","option","Object","assign","onConfig","config","configId","then","pageConfig","navigateTo","Error"],"mappings":"mOAAc,SAAAA,EAAWC,GACvBC,GAAGC,iBAAiB,CAClBF,MAAOA,GAEX,CCJc,SAAAG,EAAWC,GACvB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BN,GAAGE,QAAQ,CACTC,IAAGA,EACHI,QAASF,EACTG,KAAMF,GAEV,GACF,CCRKG,QAAQC,OACXD,QAAQC,KAAOD,QAAQE,KAEpBF,QAAQG,QACXH,QAAQG,MAAQH,QAAQE,KCDD,SAAAE,EAAAC,EAAqBC,GAE5C,YAF4C,IAAAA,IAAAA,EAAY,QAEjDb,EADK,GAAGc,OCFM,uDDEKD,EAAG,aAAAC,OAAYF,EAAE,gBAE7C,QECgB,ICed,SAAaG,GClBbR,QAAQC,KAAK,iCACNQ,OAAkB,MACvBT,QAAQC,KAAK,4HACbD,QAAQE,IAAI,uCDmBZQ,KAAKC,QAAUH,EAEfE,KAAKE,KAAOF,KAAKC,QAAQC,KACzBF,KAAKrB,SAAWqB,KAAKC,QAAQtB,SAC7BqB,KAAKG,UAAYH,KAAKC,QAAQE,UAC9BH,KAAKI,KAAOJ,KAAKC,QAAQG,KACzBJ,KAAKK,UAAYL,KAAKC,QAAQI,UAC9BL,KAAKN,cAAgBM,KAAKC,QAAQP,cAClCM,KAAKM,OAASN,KAAKC,QAAQK,MAC5B,CD5Ba,oCGDF,SAAWC,GAOvBb,GANAa,EAASC,OAAOC,OAAO,CACrBC,SAAU,SAAUC,GAClBhC,EAASgC,GAAUA,EAAO/B,MAC3B,GACA2B,IAEkBK,SAAUL,EAAOX,KACnCiB,MAAK,SAACF,GACLrB,QAAQE,IAAI,aAAcmB,GAC1BhC,EAASgC,GAAUA,EAAOG,YAAcH,EAAOG,WAAWlC,OAC1D2B,EAAOG,SAASC,EAClB,GACJ,OCnBc,SAAW3B,GACvBH,GAAGkC,WAAW,CAAE/B,IAAKA,GACvB,iCCFc,WACZ,MAAM,IAAIgC,MAAM,wBAClB"}